<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog 
		http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">

	<changeSet author="mat_dev_user" id="1" context="prod">
		<sql>
			CREATE TABLE `CQL_LIBRARY_SHARE` (
			`CQL_LIBRARY_SHARE_ID` varchar(32) NOT NULL,
			`CQL_LIBRARY_ID` varchar(32) NOT NULL,
			`CQL_LIBRARY_OWNER_USER_ID` varchar(40) NOT NULL,
			`SHARE_USER_ID` varchar(40) NOT NULL,
			`SHARE_LEVEL_ID` varchar(32) NOT NULL,
			PRIMARY KEY (`CQL_LIBRARY_SHARE_ID`),
			KEY `CQL_LIBRARY_SHARE_CQL_LIBRARY_FK` (`CQL_LIBRARY_ID`),
			KEY `CQL_LIBRARY_SHARE_OWNER_FK` (`CQL_LIBRARY_OWNER_USER_ID`),
			KEY `CQL_LIBRARY_SHARE_SHARE_FK` (`SHARE_USER_ID`),
			KEY `CQL_LIBRARY_SHARE_LEVEL_ID` (`SHARE_LEVEL_ID`),
			CONSTRAINT `CQL_LIBRARY_SHARE_LEVEL_ID` FOREIGN KEY (`SHARE_LEVEL_ID`)
			REFERENCES
			`SHARE_LEVEL` (`SHARE_LEVEL_ID`) ON DELETE CASCADE ON UPDATE CASCADE,
			CONSTRAINT `CQL_LIBRARY_SHARE_CQL_LIBRARY_FK` FOREIGN KEY
			(`CQL_LIBRARY_ID`) REFERENCES `CQL_LIBRARY` (`ID`) ON DELETE CASCADE ON
			UPDATE CASCADE,
			CONSTRAINT `CQL_LIBRARY_SHARE_OWNER_FK` FOREIGN KEY
			(`CQL_LIBRARY_OWNER_USER_ID`)
			REFERENCES `USER` (`USER_ID`) ON DELETE CASCADE ON UPDATE CASCADE,
			CONSTRAINT `CQL_LIBRARY_SHARE_SHARE_FK` FOREIGN KEY (`SHARE_USER_ID`)
			REFERENCES `USER` (`USER_ID`) ON DELETE CASCADE ON UPDATE CASCADE
			) ENGINE=InnoDB DEFAULT CHARSET=latin1;


		</sql>
	</changeSet>

</databaseChangeLog>

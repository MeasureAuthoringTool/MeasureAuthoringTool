<?xml version="1.0" encoding="UTF-8"?>
	<databaseChangeLog
		xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog 
		http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">
		
	    <changeSet author="mat_dev_user" id="1" context="prod">
	        <sql> 
	            <!--  Deleting Attributes for Diagnosis, Family History DataType -->
	    		DELETE FROM QDM_ATTRIBUTES WHERE DATA_TYPE_ID = '8';
	    		DELETE FROM QDM_ATTRIBUTES WHERE DATA_TYPE_ID = '71';
	    		DELETE FROM QDM_ATTRIBUTES WHERE DATA_TYPE_ID = '72';
	    		DELETE FROM QDM_ATTRIBUTES WHERE DATA_TYPE_ID = '73';
	    		DELETE FROM QDM_ATTRIBUTES WHERE DATA_TYPE_ID = '74';
	    		
	    		<!--Deleting Symptom, Assessed, Symptom, Inactive, Symptom, Resolved and Updating Symptom, Active to Symptom-->   
	    		   
	    		   <!-- DELETE FROM DATA_TYPE WHERE DATA_TYPE_ID = "8";
	    		   DELETE FROM DATA_TYPE WHERE DATA_TYPE_ID = "71"; -->
	    		   DELETE FROM DATA_TYPE WHERE DATA_TYPE_ID = "72";
	    		   DELETE FROM DATA_TYPE WHERE DATA_TYPE_ID = "73";
	    		   DELETE FROM DATA_TYPE WHERE DATA_TYPE_ID = "74";
	    		
	    		UPDATE DATA_TYPE SET DESCRIPTION = 'Symptom' WHERE DATA_TYPE_ID = '71';
	    		
	    		<!--  Updating Diagnosis, Family History DataType to Family History DataType  -->
	    		UPDATE DATA_TYPE SET DESCRIPTION = 'Family History' WHERE DATA_TYPE_ID = '8';
	    		
				
				<!-- MAT- 6087 Adding Attributes to  Family History new DataType-->
				INSERT INTO `QDM_ATTRIBUTES` VALUES ((select concat(max(cast(aw.ID as signed))+1,'') from QDM_ATTRIBUTES aw),
				 'relationship', 8, 'Data Type');
				INSERT INTO `QDM_ATTRIBUTES` VALUES ((select concat(max(cast(aw.ID as signed))+1,'') from QDM_ATTRIBUTES aw),
				 'onset age', 8, 'Data Type');
				INSERT INTO `QDM_ATTRIBUTES` VALUES ((select concat(max(cast(aw.ID as signed))+1,'') from QDM_ATTRIBUTES aw),
				 'recorded datetime', 8, 'Data Type');
				INSERT INTO `QDM_ATTRIBUTES` VALUES ((select concat(max(cast(aw.ID as signed))+1,'') from QDM_ATTRIBUTES aw),
				 'Health Record Field', 8, 'Data Type');
				INSERT INTO `QDM_ATTRIBUTES` VALUES ((select concat(max(cast(aw.ID as signed))+1,'') from QDM_ATTRIBUTES aw),
				 'Source', 8, 'Data Type');
				INSERT INTO `QDM_ATTRIBUTES` VALUES ((select concat(max(cast(aw.ID as signed))+1,'') from QDM_ATTRIBUTES aw),
				 'Recorded', 8, 'Data Type');
				
				<!-- MAT-6067 Adding Attributes to  Symptom new DataType-->
				INSERT INTO `QDM_ATTRIBUTES` VALUES ((select concat(max(cast(aw.ID as signed))+1,'') from QDM_ATTRIBUTES aw),
				 'severity', 71, 'Data Type');
				INSERT INTO `QDM_ATTRIBUTES` VALUES ((select concat(max(cast(aw.ID as signed))+1,'') from QDM_ATTRIBUTES aw),
				 'onset datetime', 71, 'Data Type');
				INSERT INTO `QDM_ATTRIBUTES` VALUES ((select concat(max(cast(aw.ID as signed))+1,'') from QDM_ATTRIBUTES aw),
				 'abatement datetime', 71, 'Data Type');
				INSERT INTO `QDM_ATTRIBUTES` VALUES ((select concat(max(cast(aw.ID as signed))+1,'') from QDM_ATTRIBUTES aw),
				 'Health Record Field', 71, 'Data Type');
				INSERT INTO `QDM_ATTRIBUTES` VALUES ((select concat(max(cast(aw.ID as signed))+1,'') from QDM_ATTRIBUTES aw),
				 'Source', 71, 'Data Type');
				INSERT INTO `QDM_ATTRIBUTES` VALUES ((select concat(max(cast(aw.ID as signed))+1,'') from QDM_ATTRIBUTES aw),
				 'Recorded', 71, 'Data Type');
				
				<!--MAT-6075 Adding Attributes to  Laboratory Test, Performed DataType-->
				INSERT INTO `QDM_ATTRIBUTES` VALUES ((select concat(max(cast(aw.ID as signed))+1,'') from QDM_ATTRIBUTES aw), 
				 'reference range low', 36, 'Data Type');
				
				INSERT INTO `QDM_ATTRIBUTES` VALUES ((select concat(max(cast(aw.ID as signed))+1,'') from QDM_ATTRIBUTES aw), 
				'reference range high', 36, 'Data Type');
			</sql>
	    </changeSet>
    
	</databaseChangeLog>

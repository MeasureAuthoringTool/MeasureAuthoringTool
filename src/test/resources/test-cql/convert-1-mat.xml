<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<measure>
    <measureDetails>
        <uuid>40280382-649c-54c3-0164-dceec2c0138d</uuid>
        <title>2020 Use of Opioids from Multiple Providers</title>
        <shortTitle>UOP</shortTitle>
        <guid>f71b04f4-4114-4812-bd64-900d27420fdc</guid>
        <version>1.0.000</version>
        <nqfid root="2.16.840.1.113883.3.560.1"/>
        <period calenderYear="true" uuid="3ec8fcf3-eb09-4287-b257-5ec4fb1c27d8">
            <startDate>01/01/20XX</startDate>
            <stopDate>12/31/20XX</stopDate>
        </period>
        <steward id="40">National Committee for Quality Assurance</steward>
        <developers>
            <developer id="40">National Committee for Quality Assurance</developer>
        </developers>
        <scoring id="PROPOR">Proportion</scoring>
        <patientBasedIndicator>true</patientBasedIndicator>
        <types>
            <type id="PROCESS">Process</type>
        </types>
        <componentMeasures/>
    </measureDetails>
    <populations displayName="Populations">
        <initialPopulations displayName="Initial Populations">
            <clause displayName="Initial Population 1" type="initialPopulation"
                    uuid="ED973AA8-976F-4800-874A-932F723B968C">
                <cqldefinition displayName="Initial Population" uuid="6aee6eca-5bdf-4bdc-9c60-d5ea758ab960"/>
            </clause>
        </initialPopulations>
        <numerators displayName="Numerators">
            <clause displayName="Numerator 1" type="numerator" uuid="A0319350-1DFC-4260-BFCD-F292EFB58F63">
                <cqldefinition displayName="Numerator for Population Criteria 1"
                               uuid="35c02ef1-ede5-48f2-915f-ddd039712a54"/>
            </clause>
            <clause displayName="Numerator 2" type="numerator" uuid="A8CDD9FC-C559-4BF8-A9D8-03C9126C3BDD">
                <cqldefinition displayName="Numerator for Population Criteria 2"
                               uuid="dd4f02ff-7425-455e-bbcf-7f2a7c0a0e5c"/>
            </clause>
            <clause displayName="Numerator 3" type="numerator" uuid="AAC06ED2-31D3-453B-B43A-B41ACEFDF023">
                <cqldefinition displayName="Numerator for Population Criteria 3"
                               uuid="309f2876-fec1-4b6d-b5a2-920d91becad1"/>
            </clause>
        </numerators>
        <numeratorExclusions displayName="Numerator Exclusions">
            <clause displayName="Numerator Exclusions 1" type="numeratorExclusions"
                    uuid="386A7F57-D54C-4E1C-B997-4695331AB254"/>
        </numeratorExclusions>
        <denominators displayName="Denominators">
            <clause displayName="Denominator 1" type="denominator" uuid="AD9634AE-B091-43E1-8593-28FE8EA59EFE">
                <cqldefinition displayName="Denominator" uuid="840f1b66-95c8-403e-9768-fa9d010974b0"/>
            </clause>
        </denominators>
        <denominatorExclusions displayName="Denominator Exclusions">
            <clause displayName="Denominator Exclusions 1" type="denominatorExclusions"
                    uuid="59A9CD2A-091C-45BD-A92C-C389015DB742">
                <cqldefinition displayName="Exclusions" uuid="f28b9745-1689-453f-aaca-6917cdc7af02"/>
            </clause>
        </denominatorExclusions>
        <denominatorExceptions displayName="Denominator Exceptions">
            <clause displayName="Denominator Exceptions 1" type="denominatorExceptions"
                    uuid="A56ADB71-E1C5-4F11-A3A9-3D9DFA1D2729"/>
        </denominatorExceptions>
    </populations>
    <strata displayName="Stratification">
        <stratification displayName="Stratification 1" uuid="652AF1D6-C3F5-4E47-B8FC-8AE84EB755D6">
            <clause displayName="Stratum 1" type="stratum" uuid="FB995C26-9FC6-421F-B823-6DE7E2A99F3A"/>
            <clause displayName="Stratum 2" type="stratum" uuid="1BAD0D57-F70B-4527-8E30-87ACC9578104"/>
            <clause displayName="Stratum 3" type="stratum" uuid="F779D82E-5ACD-428E-8345-34EAD4614FBD"/>
        </stratification>
    </strata>
    <supplementalDataElements/>
    <riskAdjustmentVariables/>
    <measureGrouping>
        <group sequence="1">
            <packageClause isInGrouping="false" name="Initial Population 1" type="initialPopulation"
                           uuid="ED973AA8-976F-4800-874A-932F723B968C"/>
            <packageClause isInGrouping="false" name="Denominator 1" type="denominator"
                           uuid="AD9634AE-B091-43E1-8593-28FE8EA59EFE"/>
            <packageClause isInGrouping="false" name="Denominator Exclusions 1" type="denominatorExclusions"
                           uuid="59A9CD2A-091C-45BD-A92C-C389015DB742"/>
            <packageClause isInGrouping="false" name="Numerator 1" type="numerator"
                           uuid="A0319350-1DFC-4260-BFCD-F292EFB58F63"/>
        </group>
        <group sequence="2">
            <packageClause isInGrouping="false" name="Initial Population 1" type="initialPopulation"
                           uuid="ED973AA8-976F-4800-874A-932F723B968C"/>
            <packageClause isInGrouping="false" name="Denominator 1" type="denominator"
                           uuid="AD9634AE-B091-43E1-8593-28FE8EA59EFE"/>
            <packageClause isInGrouping="false" name="Denominator Exclusions 1" type="denominatorExclusions"
                           uuid="59A9CD2A-091C-45BD-A92C-C389015DB742"/>
            <packageClause isInGrouping="false" name="Numerator 2" type="numerator"
                           uuid="A8CDD9FC-C559-4BF8-A9D8-03C9126C3BDD"/>
        </group>
        <group sequence="3">
            <packageClause isInGrouping="false" name="Initial Population 1" type="initialPopulation"
                           uuid="ED973AA8-976F-4800-874A-932F723B968C"/>
            <packageClause isInGrouping="false" name="Denominator 1" type="denominator"
                           uuid="AD9634AE-B091-43E1-8593-28FE8EA59EFE"/>
            <packageClause isInGrouping="false" name="Denominator Exclusions 1" type="denominatorExclusions"
                           uuid="59A9CD2A-091C-45BD-A92C-C389015DB742"/>
            <packageClause isInGrouping="false" name="Numerator 3" type="numerator"
                           uuid="AAC06ED2-31D3-453B-B43A-B41ACEFDF023"/>
        </group>
    </measureGrouping>
    <subTreeLookUp/>
    <elementLookUp/>
    <cqlLookUp>
        <library>UseofOpioidsfromMultipleProviders</library>
        <version>1.0.000</version>
        <usingModel>QDM</usingModel>
        <usingModelVersion>5.5</usingModelVersion>
        <cqlContext>Patient</cqlContext>
        <codeSystems>
            <codeSystem codeSystem="2.16.840.1.113883.6.96" codeSystemName="SNOMEDCT" codeSystemVersion="2016-03"
                        id="a82dd545-6ce2-4ec9-a662-0eb9c921b355"/>
            <codeSystem codeSystem="2.16.840.1.113883.6.1" codeSystemName="LOINC" codeSystemVersion="2.66"
                        id="9564f58a071e485ca1ed0c66e05f5922"/>
        </codeSystems>
        <valuesets>
            <valueset id="42abb56470824c42b9f58de8b4e2123d" name="Acetaminophen Butalbital Caffeine Codeine"
                      oid="2.16.840.1.113883.3.464.1004.1548" originalName="Acetaminophen Butalbital Caffeine Codeine"
                      program="" release="" suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="28cb1c66-b46c-40a8-b9bc-de373d570fb5" version=""/>
            <valueset id="9713ff9e36ad4e13960c61b17a264dc6" name="Acetaminophen Caffeine Dihydrocodeine"
                      oid="2.16.840.1.113883.3.464.1004.1561" originalName="Acetaminophen Caffeine Dihydrocodeine"
                      program="" release="" suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="9c95f490-56d3-4fe6-9ba1-54669dbd7a03" version=""/>
            <valueset id="91bd0f2dd42e41a5840ee96ee6954d17" name="Acetaminophen Codeine"
                      oid="2.16.840.1.113883.3.464.1004.1547" originalName="Acetaminophen Codeine" program="" release=""
                      suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="3fd363b0-16cc-4fcc-9f87-9de0923332c3" version=""/>
            <valueset id="5214653547914c7b953c9fa5458b6f2d" name="Acetaminophen Hydrocodone"
                      oid="2.16.840.1.113883.3.464.1004.1550" originalName="Acetaminophen Hydrocodone" program=""
                      release="" suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="5ddae4e8-5344-4c87-a679-76c497597699" version=""/>
            <valueset id="2004ba1aad1f416aba8ed681e4bd5d44" name="Acetaminophen Oxycodone"
                      oid="2.16.840.1.113883.3.464.1004.1552" originalName="Acetaminophen Oxycodone" program=""
                      release="" suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="a026f9f1-4afa-4bbb-a56b-f5b5467df787" version=""/>
            <valueset id="71f17ad232a4460e8e5957c7125526fc" name="Acetaminophen Tramadol"
                      oid="2.16.840.1.113883.3.464.1004.1562" originalName="Acetaminophen Tramadol" program=""
                      release="" suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="5ba96007-897d-46a9-97a3-f0750c65e26d" version=""/>
            <valueset id="52d3188f233749e99b38a3a5f89d336c" name="Aspirin Butalbital Caffeine Codeine"
                      oid="2.16.840.1.113883.3.464.1004.1549" originalName="Aspirin Butalbital Caffeine Codeine"
                      program="" release="" suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="b3d34405-0559-4329-b138-30301805d125" version=""/>
            <valueset id="2b1b3709e5dd4e15aead73e4fb65c8b3" name="Aspirin Caffeine Dihydrocodeine"
                      oid="2.16.840.1.113883.3.464.1004.1551" originalName="Aspirin Caffeine Dihydrocodeine" program=""
                      release="" suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="2f970cc7-c79c-4677-94fe-64b3b2b5b480" version=""/>
            <valueset id="cdc80804de45457e964211f833aabee1" name="Aspirin Carisoprodol Codeine"
                      oid="2.16.840.1.113883.3.464.1004.1556" originalName="Aspirin Carisoprodol Codeine" program=""
                      release="" suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="aa430460-7de7-4958-8046-85a4a3c241fe" version=""/>
            <valueset id="3c43502f7e5d431ab4ccb569c0ac508d" name="Aspirin Oxycodone"
                      oid="2.16.840.1.113883.3.464.1004.1553" originalName="Aspirin Oxycodone" program="" release=""
                      suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="bb0795d4-a2eb-4762-a1e1-816c07ced364" version=""/>
            <valueset id="691ce5eab4d8448da3c7242d1dbc70b2" name="Belladonna Opium"
                      oid="2.16.840.1.113883.3.464.1004.1555" originalName="Belladonna Opium" program="" release=""
                      suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="bc710e3c-7f35-4d82-91d2-93cf7bc70f96" version=""/>
            <valueset id="11f46308fd394632ad1cf7aa2b80f985" name="Buprenorphine" oid="2.16.840.1.113883.3.464.1004.1545"
                      originalName="Buprenorphine" program="" release="" suppDataElement="false" taxonomy="Grouping"
                      type="Grouping" uuid="51de167f-31c8-46e9-b5a7-5977c259d8f5" version=""/>
            <valueset id="a0b27d51f0484309b9e205e89f173108" name="Butorphanol" oid="2.16.840.1.113883.3.464.1004.1544"
                      originalName="Butorphanol" program="" release="" suppDataElement="false" taxonomy="Grouping"
                      type="Grouping" uuid="15489180-d3e5-4425-8117-b3fffe07faa5" version=""/>
            <valueset id="819e5fab7a854998bb3ee3617c23cd6a" name="Codeine Sulfate"
                      oid="2.16.840.1.113883.3.464.1004.1534" originalName="Codeine Sulfate" program="" release=""
                      suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="194c8df0-4e73-49ff-9a97-132ff5c60894" version=""/>
            <valueset datatype="Patient Characteristic Ethnicity" id="b890ba36-aa0e-4cff-a3e6-b5d28ec82df8"
                      name="Ethnicity" oid="2.16.840.1.114222.4.11.837" originalName="Ethnicity" program="" release=""
                      suffix="" suppDataElement="true" taxonomy="CDC" type="Extensional"
                      uuid="b4047b8a-f278-40b0-aa28-5f6697821bfb" version=""/>
            <valueset id="9c77c1cba36f4696b639ef8ad04005a0" name="Fentanyl" oid="2.16.840.1.113883.3.464.1004.1537"
                      originalName="Fentanyl" program="" release="" suppDataElement="false" taxonomy="Grouping"
                      type="Grouping" uuid="281d21b9-86b6-48f2-aa96-a71a27c9e2bf" version=""/>
            <valueset id="d369db444dbe4fecb10496605595171f" name="Hospice Encounter"
                      oid="2.16.840.1.113883.3.464.1004.1761" originalName="Hospice Encounter" program="" release=""
                      suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="e20132db-fb0c-4af8-a9d0-6ce07d7c5303" version=""/>
            <valueset id="798e8003914f4e1fbeda81f4eeb1dd6a" name="Hospice Intervention"
                      oid="2.16.840.1.113883.3.464.1004.1762" originalName="Hospice Intervention" program="" release=""
                      suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="421a0204-419a-49ad-afce-4d50110b6f06" version=""/>
            <valueset id="9c2b1faffed64a67bc8515cc9ee6614d" name="Hydrocodone" oid="2.16.840.1.113883.3.464.1004.1546"
                      originalName="Hydrocodone" program="" release="" suppDataElement="false" taxonomy="Grouping"
                      type="Grouping" uuid="7b7fc3f1-00d3-499c-ad74-6595d319a539" version=""/>
            <valueset id="7184e2e9672c4125b9590a22d31f040d" name="Hydrocodone Ibuprofen"
                      oid="2.16.840.1.113883.3.464.1004.1560" originalName="Hydrocodone Ibuprofen" program="" release=""
                      suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="9fe2c170-83d2-4962-bccf-9cff202fe635" version=""/>
            <valueset id="d5d27cd56cf8452b8daee59b4cabf2f1" name="Hydromorphone" oid="2.16.840.1.113883.3.464.1004.1538"
                      originalName="Hydromorphone" program="" release="" suppDataElement="false" taxonomy="Grouping"
                      type="Grouping" uuid="7278d4be-16d2-4ad1-8d53-2a399ba06a23" version=""/>
            <valueset id="1ad03da955114276861cac81180d01f4" name="Ibuprofen Oxycodone"
                      oid="2.16.840.1.113883.3.464.1004.1564" originalName="Ibuprofen Oxycodone" program="" release=""
                      suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="ad326f63-f9d8-4177-bf32-54f7efab849a" version=""/>
            <valueset id="8801fb9286164db8b9ed3152664f0d7e" name="Levorphanol" oid="2.16.840.1.113883.3.464.1004.1542"
                      originalName="Levorphanol" program="" release="" suppDataElement="false" taxonomy="Grouping"
                      type="Grouping" uuid="8851d74f-aac6-4857-8c6f-4b3c0edc394c" version=""/>
            <valueset id="38924839c42840a9b2c8990b6091c54b" name="Meperidine" oid="2.16.840.1.113883.3.464.1004.1535"
                      originalName="Meperidine" program="" release="" suppDataElement="false" taxonomy="Grouping"
                      type="Grouping" uuid="1582060d-f3b7-4054-bcf7-6eb8f921564e" version=""/>
            <valueset id="afbbd36c24ca44e3a72f65a860fb5dd9" name="Meperidine Promethazine"
                      oid="2.16.840.1.113883.3.464.1004.1554" originalName="Meperidine Promethazine" program=""
                      release="" suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="ac26abd6-0cc8-4284-b714-f475016646cb" version=""/>
            <valueset id="6a1d073df0b04737a2dc6d5edf0df6a1" name="Methadone" oid="2.16.840.1.113883.3.464.1004.1536"
                      originalName="Methadone" program="" release="" suppDataElement="false" taxonomy="Grouping"
                      type="Grouping" uuid="a2c9f849-afb2-43b0-90f1-ab2a1c720990" version=""/>
            <valueset id="1781011ae1db42a890ec0df08f02338d" name="Morphine" oid="2.16.840.1.113883.3.464.1004.1539"
                      originalName="Morphine" program="" release="" suppDataElement="false" taxonomy="Grouping"
                      type="Grouping" uuid="684eadf0-5af3-4772-89da-9750c56c2077" version=""/>
            <valueset id="19d0bc6c4ad841afb98175247c3ead24" name="Morphine Naltrexone"
                      oid="2.16.840.1.113883.3.464.1004.1566" originalName="Morphine Naltrexone" program="" release=""
                      suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="f037cf63-e0c3-4b15-97af-4626df296e25" version=""/>
            <valueset id="640abf2b2bf0461ab2df552d9cdb60fb" name="Naloxone Pentazocine"
                      oid="2.16.840.1.113883.3.464.1004.1557" originalName="Naloxone Pentazocine" program="" release=""
                      suppDataElement="false" taxonomy="Grouping" type="Grouping"
                      uuid="09cc1263-c60d-4e5d-806f-d255171406ee" version=""/>
            <valueset datatype="Patient Characteristic Sex" id="8c006046-ef63-49e5-8b64-62d432e221b8"
                      name="ONC Administrative Sex" oid="2.16.840.1.113762.1.4.1" originalName="ONC Administrative Sex"
                      program="" release="" suffix="" suppDataElement="true" taxonomy="Administrative Sex"
                      type="Extensional" uuid="0c8a70c3-3780-4f1e-9b9a-ea0e30f7efbe" version=""/>
            <valueset id="d5bb67ad60e74d1aa26b1eabfa586709" name="Opium" oid="2.16.840.1.113883.3.464.1004.1541"
                      originalName="Opium" program="" release="" suppDataElement="false" taxonomy="Grouping"
                      type="Grouping" uuid="67239d93-da51-40c6-aafc-dd1db33a5d01" version=""/>
            <valueset id="6d4a8f603d394f65a770ec4c9c75ed44" name="Oxycodone" oid="2.16.840.1.113883.3.464.1004.1540"
                      originalName="Oxycodone" program="" release="" suppDataElement="false" taxonomy="Grouping"
                      type="Grouping" uuid="e0644773-07fd-4915-8d7e-40f5cce4a556" version=""/>
            <valueset id="9f4f906dba57451c8138337548e7b114" name="Oxymorphone" oid="2.16.840.1.113883.3.464.1004.1543"
                      originalName="Oxymorphone" program="" release="" suppDataElement="false" taxonomy="Grouping"
                      type="Grouping" uuid="9cc33ed5-79c2-4054-8afb-216e616be5df" version=""/>
            <valueset datatype="Patient Characteristic Payer" id="90adc924-87f9-4b43-a62f-deebbcf3a42f" name="Payer"
                      oid="2.16.840.1.114222.4.11.3591" originalName="Payer" program="" release="" suffix=""
                      suppDataElement="true" taxonomy="Source of Payment Typology" type="Extensional"
                      uuid="498c9332-208d-4567-964d-17c94d641223" version=""/>
            <valueset datatype="Patient Characteristic Race" id="4665f541-bf07-4d8d-944d-d4b12b5cbe04" name="Race"
                      oid="2.16.840.1.114222.4.11.836" originalName="Race" program="" release="" suffix=""
                      suppDataElement="true" taxonomy="CDC" type="Extensional"
                      uuid="850a9a5f-a936-44cb-8446-0a6100e2b6d9" version=""/>
            <valueset id="65bddc13fcba4ec48242069ab870a95e" name="Tapentadol" oid="2.16.840.1.113883.3.464.1004.1565"
                      originalName="Tapentadol" program="" release="" suppDataElement="false" taxonomy="Grouping"
                      type="Grouping" uuid="f72646cd-93ed-49ed-b3d6-927078caa955" version=""/>
            <valueset id="a2075836ec354e63a5ac45ae3ff4a7ce" name="Tramadol" oid="2.16.840.1.113883.3.464.1004.1559"
                      originalName="Tramadol" program="" release="" suppDataElement="false" taxonomy="Grouping"
                      type="Grouping" uuid="852d3245-0086-4a90-b45e-ba3bb4ed2976" version=""/>
        </valuesets>
        <codes>
            <code codeIdentifier="CODE:/CodeSystem/LOINC/Version/2.66/Code/21112-8/Info" codeName="Birth date"
                  codeOID="21112-8" codeSystemName="LOINC" codeSystemOID="2.16.840.1.113883.6.1"
                  codeSystemVersion="2.66" displayName="Birth date" id="eb05814776b94b1c8cea95b24eb174e5"
                  isCodeSystemVersionIncluded="false" readOnly="false"/>
            <code codeIdentifier="CODE:/CodeSystem/SNOMEDCT/Version/2016-03/Code/419099009/Info" codeName="Dead"
                  codeOID="419099009" codeSystemName="SNOMEDCT" codeSystemOID="2.16.840.1.113883.6.96"
                  codeSystemVersion="2016-03" displayName="Dead" id="807d35f4-8399-48c7-9f2f-2389c7e87787"
                  isCodeSystemVersionIncluded="false" readOnly="true"/>
        </codes>
        <parameters>
            <parameter id="664ec631-592f-49d2-bacb-454c3806aea0" name="Measurement Period" readOnly="true">
                <comment/>
                <logic>Interval&lt;DateTime&gt;</logic>
            </parameter>
            <parameter id="98abaf27-15b2-452d-ba6f-f9c88bda95d0" name="Product Line" readOnly="false">
                <comment/>
                <logic>String</logic>
            </parameter>
        </parameters>
        <definitions>
            <definition context="Patient" id="840f1b66-95c8-403e-9768-fa9d010974b0" name="Denominator"
                        popDefinition="false" supplDataElement="false">
                <logic>"Initial Population"</logic>
                <comment/>
            </definition>
            <definition context="Patient" id="f28b9745-1689-453f-aaca-6917cdc7af02" name="Exclusions"
                        popDefinition="false" supplDataElement="false">
                <logic>exists Common."Hospice Intervention or Encounter"</logic>
                <comment/>
            </definition>
            <definition context="Patient" id="ed4bf304-80d2-4eea-90bf-405cb460fe53"
                        name="Medication Dispensed from 4 Different Pharmacies during Measurement Period"
                        popDefinition="false" supplDataElement="false">
                <logic>( ( Count("Opioid Medication Dispensed" MedDispensed
                    return MedDispensed.dispenser.id
                    )+ Count("Opioid Medication Dispensed" MedDispensed
                    where MedDispensed.dispenser.id is null
                    )
                    ) &gt;= 4
                    )
                </logic>
                <comment/>
            </definition>
            <definition context="Patient" id="8a758429-2c16-4ca1-93c2-422967d42a52"
                        name="Medication Dispensed from 4 Different Prescribers and 4 Different Pharmacies during Measurement Period"
                        popDefinition="false" supplDataElement="false">
                <logic>( ( Count("Opioid Medication Dispensed" MedDispensed
                    return MedDispensed.prescriber.id
                    )+ Count("Opioid Medication Dispensed" MedDispensed
                    where MedDispensed.prescriber.id is null
                    )
                    ) &gt;= 4
                    and ( Count("Opioid Medication Dispensed" MedDispensed
                    return MedDispensed.dispenser.id
                    )+ Count("Opioid Medication Dispensed" MedDispensed
                    where MedDispensed.dispenser.id is null
                    )
                    ) &gt;= 4
                    )
                </logic>
                <comment/>
            </definition>
            <definition context="Patient" id="ded4e6ad-3cd4-46ba-9a02-9f999f245407"
                        name="Medication Dispensed from 4 Different Prescribers during Measurement Period"
                        popDefinition="false" supplDataElement="false">
                <logic>( ( Count("Opioid Medication Dispensed" MedDispensed
                    return MedDispensed.prescriber.id
                    )+ Count("Opioid Medication Dispensed" MedDispensed
                    where MedDispensed.prescriber.id is null
                    )
                    ) &gt;= 4
                    )
                </logic>
                <comment/>
            </definition>
            <definition context="Patient" id="35c02ef1-ede5-48f2-915f-ddd039712a54"
                        name="Numerator for Population Criteria 1" popDefinition="false" supplDataElement="false">
                <logic>"Medication Dispensed from 4 Different Prescribers during Measurement Period"</logic>
                <comment/>
            </definition>
            <definition context="Patient" id="dd4f02ff-7425-455e-bbcf-7f2a7c0a0e5c"
                        name="Numerator for Population Criteria 2" popDefinition="false" supplDataElement="false">
                <logic>"Medication Dispensed from 4 Different Pharmacies during Measurement Period"</logic>
                <comment/>
            </definition>
            <definition context="Patient" id="309f2876-fec1-4b6d-b5a2-920d91becad1"
                        name="Numerator for Population Criteria 3" popDefinition="false" supplDataElement="false">
                <logic>"Medication Dispensed from 4 Different Prescribers and 4 Different Pharmacies during Measurement
                    Period"
                </logic>
                <comment/>
            </definition>
            <definition context="Patient" id="7d158d07-5e57-4a45-b95e-bd2c9e386086"
                        name="Opioid Medication Coverage Days" popDefinition="false" supplDataElement="false">
                <logic>Sum((collapse "Opioid Medication Coverage Intervals")CoverageInterval
                    return all(duration in days of CoverageInterval + 1)
                    )
                </logic>
                <comment/>
            </definition>
            <definition context="Patient" id="16949ef3-a50c-45b7-a6cb-929e67287a22"
                        name="Opioid Medication Coverage Intervals" popDefinition="false" supplDataElement="false">
                <logic>( flatten { RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Acetaminophen Butalbital Caffeine Codeine"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Acetaminophen Caffeine Dihydrocodeine"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Acetaminophen Codeine"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Acetaminophen Hydrocodone"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Acetaminophen Oxycodone"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Acetaminophen Tramadol"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Aspirin Butalbital Caffeine Codeine"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Aspirin Caffeine Dihydrocodeine"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Meperidine Promethazine"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Aspirin Carisoprodol Codeine"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Aspirin Oxycodone"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Belladonna Opium"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Buprenorphine"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Butorphanol"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Codeine Sulfate"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Fentanyl"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Hydrocodone"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Hydrocodone Ibuprofen"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Hydromorphone"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Ibuprofen Oxycodone"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Levorphanol"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Meperidine"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Methadone"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Morphine"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Morphine Naltrexone"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Naloxone Pentazocine"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Opium"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Oxycodone"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Oxymorphone"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Tapentadol"
                    return all OpioidMedInterval.period
                    ), RolloutIntervals("Opioid Medication Intervals" OpioidMedInterval
                    where OpioidMedInterval.code in "Tramadol"
                    return all OpioidMedInterval.period
                    )} ) OpioidIntervals
                    return all OpioidIntervals
                    intersect "Measurement Period"
                </logic>
                <comment/>
            </definition>
            <definition context="Patient" id="bb169010-677a-45b4-8d9e-2cee9f533152" name="Opioid Medication Dispensed"
                        popDefinition="false" supplDataElement="false">
                <logic>( ( ["Medication, Dispensed": "Codeine Sulfate"]
                    union ["Medication, Dispensed": "Meperidine"]
                    union ["Medication, Dispensed": "Methadone"]
                    union ["Medication, Dispensed": "Fentanyl"]
                    union ["Medication, Dispensed": "Hydrocodone"]
                    union ["Medication, Dispensed": "Morphine"]
                    union ["Medication, Dispensed": "Oxycodone"]
                    union ["Medication, Dispensed": "Opium"]
                    union ["Medication, Dispensed": "Levorphanol"]
                    union ["Medication, Dispensed": "Oxymorphone"]
                    union ["Medication, Dispensed": "Butorphanol"]
                    union ["Medication, Dispensed": "Buprenorphine"]
                    union ["Medication, Dispensed": "Hydromorphone"]
                    union ["Medication, Dispensed": "Acetaminophen Codeine"]
                    union ["Medication, Dispensed": "Acetaminophen Butalbital Caffeine Codeine"]
                    union ["Medication, Dispensed": "Aspirin Butalbital Caffeine Codeine"]
                    union ["Medication, Dispensed": "Acetaminophen Hydrocodone"]
                    union ["Medication, Dispensed": "Aspirin Caffeine Dihydrocodeine"]
                    union ["Medication, Dispensed": "Acetaminophen Oxycodone"]
                    union ["Medication, Dispensed": "Aspirin Oxycodone"]
                    union ["Medication, Dispensed": "Meperidine Promethazine"]
                    union ["Medication, Dispensed": "Belladonna Opium"]
                    union ["Medication, Dispensed": "Aspirin Carisoprodol Codeine"]
                    union ["Medication, Dispensed": "Naloxone Pentazocine"]
                    union ["Medication, Dispensed": "Tramadol"]
                    union ["Medication, Dispensed": "Hydrocodone Ibuprofen"]
                    union ["Medication, Dispensed": "Acetaminophen Caffeine Dihydrocodeine"]
                    union ["Medication, Dispensed": "Acetaminophen Tramadol"]
                    union ["Medication, Dispensed": "Ibuprofen Oxycodone"]
                    union ["Medication, Dispensed": "Tapentadol"]
                    union ["Medication, Dispensed": "Morphine Naltrexone"] ) Medlist
                    where Medlist.relevantPeriod overlaps "Measurement Period"
                    or Interval[Medlist.relevantDatetime, Medlist.relevantDatetime +
                    ToDays(Medlist.daysSupplied)]overlaps "Measurement Period"
                    )
                </logic>
                <comment/>
            </definition>
            <definition context="Patient" id="178d25cb-ffa0-4e50-b101-a429cf1ca77d" name="Opioid Medication Intervals"
                        popDefinition="false" supplDataElement="false">
                <logic>"Opioid Medication Dispensed" OpioidMedDispensed
                    let period: if OpioidMedDispensed.daysSupplied is not null then
                    Interval[OpioidMedDispensed.relevantDatetime, OpioidMedDispensed.relevantDatetime +
                    ToDays(OpioidMedDispensed.daysSupplied)]
                    else OpioidMedDispensed.relevantPeriod
                    where period overlaps "Measurement Period"
                    return all {
                    code: OpioidMedDispensed.code,
                    period: period
                    }
                </logic>
                <comment/>
            </definition>
            <definition context="Patient" id="052c0489-e405-4047-8b98-0e1eb2444eff" name="SDE Ethnicity"
                        popDefinition="false" supplDataElement="true">
                <logic>["Patient Characteristic Ethnicity": "Ethnicity"]</logic>
                <comment/>
            </definition>
            <definition context="Patient" id="5e1fed04-4c25-41b1-a8dc-05a72b73ad8b" name="SDE Payer"
                        popDefinition="false" supplDataElement="true">
                <logic>["Patient Characteristic Payer": "Payer"]</logic>
                <comment/>
            </definition>
            <definition context="Patient" id="22426ee8-d67d-4a86-97f9-83b3fc78f823" name="SDE Race"
                        popDefinition="false" supplDataElement="true">
                <logic>["Patient Characteristic Race": "Race"]</logic>
                <comment/>
            </definition>
            <definition context="Patient" id="1eb2fc75-d17d-47f1-9994-9894becc36f5" name="SDE Sex" popDefinition="false"
                        supplDataElement="true">
                <logic>["Patient Characteristic Sex": "ONC Administrative Sex"]</logic>
                <comment/>
            </definition>
            <definition context="Patient" id="d2826e5d-01ae-49de-9d23-37e21b007f2f"
                        name="Two Opioid Medications Dispensed on Different Dates of Service" popDefinition="false"
                        supplDataElement="false">
                <logic>( Count("Opioid Medication Dispensed" MedDispensedOne
                    with "Opioid Medication Dispensed" MedDispensedTwo
                    such that MedDispensedOne.relevantDatetime 1 day or more after MedDispensedTwo.relevantDatetime
                    or MedDispensedTwo.relevantDatetime 1 day or more after MedDispensedOne.relevantDatetime
                    or MedDispensedOne.relevantPeriod starts 1 day or more after start of MedDispensedTwo.relevantPeriod
                    or MedDispensedTwo.relevantPeriod starts 1 day or more after start of MedDispensedOne.relevantPeriod
                    )
                    ) &gt;= 2
                </logic>
                <comment/>
            </definition>
            <definition context="Patient" id="6aee6eca-5bdf-4bdc-9c60-d5ea758ab960" name="Initial Population"
                        popDefinition="false" supplDataElement="false">
                <logic>( exists ( ["Patient Characteristic Birthdate": "Birth date"] BirthDate
                    where Common."CalendarAgeInYearsAt" ( BirthDate.birthDatetime, start of "Measurement Period" ) &gt;=
                    18
                    )
                    and "Two Opioid Medications Dispensed on Different Dates of Service"
                    and "Opioid Medication Coverage Days" &gt;= 15
                    and "Enrolled During Participation Period"
                    )
                </logic>
                <comment/>
            </definition>
            <definition context="Patient" id="f9fa9710-8c7d-44b1-b9de-026fd106929f"
                        name="Enrolled During Participation Period" popDefinition="false" supplDataElement="false">
                <logic>Common."Is Enrolled" ( "Product Line",
                    end of "Measurement Period", "Measurement Period", 45 )
                </logic>
                <comment/>
            </definition>
        </definitions>
        <functions>
            <function context="Patient" id="f408bfe8-2977-4d43-8245-4c295d1a4a01" name="ToDays">
                <logic>if Value is not null then Quantity { value: Value, unit: 'd' }
                    else null
                </logic>
                <comment/>
                <arguments>
                    <argument argumentName="Value" id="68920240-9e48-343b-9147-13f96d93947c" type="Integer"/>
                </arguments>
            </function>
            <function context="Patient" id="ca3f4252-5066-4817-ae03-766ff0616641" name="RolloutIntervals">
                <logic>
                    RolloutIntervalsOnce(RolloutIntervalsOnce(RolloutIntervalsOnce(RolloutIntervalsOnce(Intervals))))
                </logic>
                <comment/>
                <arguments>
                    <argument argumentName="Intervals" id="92a8282e-cbe5-3c30-ba0c-1be4905a6c03"
                              otherType="List&lt;Interval&lt;DateTime&gt;&gt;" type="Others"/>
                </arguments>
            </function>
            <function context="Patient" id="f7d99e02-59e2-4d6d-80bd-d59aeb7bc2fe" name="RolloutIntervalsOnce">
                <logic>( collapse Intervals ) RollOutInterval
                    return Interval[start of RollOutInterval, start of RollOutInterval + Quantity { value: Sum(Intervals
                    X
                    where X during RollOutInterval
                    return all duration in days of X
                    ), unit: 'day' }]
                </logic>
                <comment/>
                <arguments>
                    <argument argumentName="Intervals" id="92a8282e-cbe5-3c30-ba0c-1be4905a6c03"
                              otherType="List&lt;Interval&lt;DateTime&gt;&gt;" type="Others"/>
                </arguments>
            </function>
        </functions>
        <includeLibrarys>
            <includeLibrary cqlLibRefId="402803826ce3d984016cf6e2bf450118" cqlLibRefName="NCQA_Common"
                            cqlVersion="5.1.000" id="bb08bdb1-55d9-4ef3-8bd3-3a894abeffdd" name="Common"
                            qdmVersion="5.5"/>
        </includeLibrarys>
    </cqlLookUp>
</measure>
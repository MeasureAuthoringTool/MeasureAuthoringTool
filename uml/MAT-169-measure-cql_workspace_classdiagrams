@startuml

package UI {
    abstract class AbstractCQLWorkspacePresenter
    class CQLStandaloneWorkSpacePresenter
    class CQLMeasureWorkSpacePresenter
}

package Shared {
    class SaveUpdateCQLResult
}

package Server {
    class MeasureService <<RPC>>
    class CQLLibraryServiceImpl <<RPC>>
    class CQLLibraryServiceImpl
    class CQLLibraryService

    class XmlProcessor
    class CQLServiceImpl

    class MeasureService
    class MeasureLibraryServiceImpl
    class MeasurePackageService

    package DAO {
        class CQLLibraryDAO
        class MeasureDAO
    }
}

AbstractCQLWorkspacePresenter <|-- CQLStandaloneWorkSpacePresenter
AbstractCQLWorkspacePresenter <|-- CQLMeasureWorkSpacePresenter

CQLStandaloneWorkSpacePresenter ..> CQLLibraryServiceImpl : use
CQLLibraryServiceImpl ..> CQLLibraryService: use
CQLLibraryService ..> CQLLibraryDAO: use
CQLLibraryService ..> CQLServiceImpl: use
CQLLibraryService *.. XmlProcessor


CQLMeasureWorkSpacePresenter ..> MeasureService : use
MeasureService ..> MeasureLibraryServiceImpl: use
MeasureLibraryServiceImpl ..> MeasureDAO: use
MeasureLibraryServiceImpl ..> MeasurePackageService: use
MeasureLibraryServiceImpl ..> CQLServiceImpl: use
MeasureLibraryServiceImpl *.. XmlProcessor

CQLServiceImpl ..> SaveUpdateCQLResult: produce
CQLStandaloneWorkSpacePresenter ..> SaveUpdateCQLResult: display
CQLMeasureWorkSpacePresenter ..> SaveUpdateCQLResult: display

@enduml